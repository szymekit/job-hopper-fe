import{a as Y,b as ee,c as te,d as oe}from"./chunk-VEUQTQFU.js";import{a as Q,b as X}from"./chunk-AIFCY5AN.js";import{a as R}from"./chunk-PU44R6CB.js";import{a as $}from"./chunk-F45LC4RS.js";import"./chunk-3RK6DDJD.js";import{a as L,b as H,c as J,d as W,e as Z,f as K}from"./chunk-3OHHDDBN.js";import{b as I,d as m,f as T,g as U,k as A,m as D,n as q,p as V,q as G}from"./chunk-2QYDXULY.js";import{a as z}from"./chunk-FT2GGG6N.js";import{j,k as F}from"./chunk-PD4IKBLU.js";import{a as k}from"./chunk-LIPKMQYY.js";import"./chunk-G6XE52Q4.js";import{c as N}from"./chunk-WDPLDZXG.js";import{x as O,y as B}from"./chunk-T3VJ5NW5.js";import{$ as l,A as y,Ea as s,Fb as o,Gb as _,Ra as E,S as w,W as M,Yb as v,a as u,ab as p,b as c,cb as f,hb as x,ib as t,jb as e,kb as d,m as C,na as S,qb as P,rb as g}from"./chunk-6R5FC44M.js";var h=class r{formBuilder=l(V);authApi=l($);authService=l(z);realtimeService=l(R);router=l(N);notifications=l(k);form=this.formBuilder.nonNullable.group({fullName:this.formBuilder.nonNullable.control("",{validators:[m.required]}),taxNumber:this.formBuilder.nonNullable.control("",{validators:[m.required]}),email:this.formBuilder.nonNullable.control("",{validators:[m.required,m.email]}),phoneNumber:this.formBuilder.nonNullable.control("",{validators:[m.required]}),password:this.formBuilder.nonNullable.control("",{validators:[m.required,m.minLength(6)]}),confirmPassword:this.formBuilder.nonNullable.control("",{validators:[m.required]}),acceptTerms:this.formBuilder.nonNullable.control(!1,{validators:[m.requiredTrue]}),acceptMarketing:this.formBuilder.nonNullable.control(!1)});uiState=S({submitting:!1,submitError:null,submitSuccess:!1});submit(){if(!this.form.valid||this.uiState().submitting){this.form.markAllAsTouched();return}let n=this.form.getRawValue();if(n.password!==n.confirmPassword){this.form.get("confirmPassword")?.setErrors({passwordMismatch:!0});return}this.uiState.update(i=>c(u({},i),{submitting:!0,submitError:null})),this.authApi.register({email:n.email,password:n.password,fullName:n.fullName,taxNumber:n.taxNumber,phoneNumber:n.phoneNumber,role:"RECRUITER",marketingConsent:n.acceptMarketing}).pipe(w(i=>{this.authService.setToken(i.accessToken),this.authService.setUser(i.user),this.realtimeService.connect(),this.uiState.update(a=>c(u({},a),{submitting:!1,submitSuccess:!0,submitError:null})),setTimeout(()=>{this.router.navigate(["/app/company/dashboard"])},500)}),y(i=>{let a=i.status===409?"U\u017Cytkownik o podanym adresie email ju\u017C istnieje.":"Nie uda\u0142o si\u0119 utworzy\u0107 konta. Spr\xF3buj ponownie.";return this.uiState.update(b=>c(u({},b),{submitting:!1,submitError:a})),C(null)})).subscribe()}static \u0275fac=function(i){return new(i||r)};static \u0275prov=M({token:r,factory:r.\u0275fac,providedIn:"root"})};function ne(r,n){if(r&1&&(t(0,"mat-error"),o(1),e()),r&2){let i=g();s(),_(i.emailError())}}function ae(r,n){if(r&1&&(t(0,"mat-error"),o(1),e()),r&2){let i=g();s(),_(i.passwordError())}}function me(r,n){if(r&1&&(t(0,"mat-error"),o(1),e()),r&2){let i=g();s(),_(i.confirmPasswordError())}}var ie=class r{facade=l(h);form=this.facade.form;uiState=this.facade.uiState;emailError=v(()=>ee(this.form.controls.email));passwordError=v(()=>te(this.form.controls.password));confirmPasswordError=v(()=>oe(this.form.controls.confirmPassword));handleSubmit(){this.facade.submit()}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=E({type:r,selectors:[["jh-business-registration-page"]],decls:78,vars:5,consts:[["heading",""],["auth-left","",1,"promo"],[1,"promo__logo-row"],["src","/assets/logo.svg","alt","JobHopper",1,"promo__logo-image"],[1,"promo__title"],[1,"promo__subtitle"],[1,"promo__items"],[1,"promo__item"],[1,"promo__item-icon"],[1,"promo__item-text"],[1,"promo__item-title"],[1,"promo__item-description"],["auth-right","",1,"form"],[1,"form__title"],[1,"form__body",3,"ngSubmit","formGroup"],["appearance","outline","floatLabel","always","hideRequiredMarker","true",1,"form__field"],["matInput","","placeholder","Uzupe\u0142nij","formControlName","fullName"],["matInput","","placeholder","Uzupe\u0142nij","formControlName","taxNumber"],["matInput","","placeholder","Uzupe\u0142nij","formControlName","email","type","email"],["matInput","","placeholder","Uzupe\u0142nij","formControlName","phoneNumber"],["matInput","","placeholder","Uzupe\u0142nij","formControlName","password","type","password"],["matInput","","placeholder","Uzupe\u0142nij","formControlName","confirmPassword","type","password"],[1,"form__checkbox-group"],["color","primary","formControlName","acceptTerms"],["color","primary","formControlName","acceptMarketing"],["mat-raised-button","","color","primary","type","submit",1,"form__submit",3,"disabled"],[1,"form__footer"],["href","#",1,"form__footer-link"]],template:function(i,a){i&1&&(t(0,"jh-auth-page-layout",0)(1,"div",1)(2,"div",2),d(3,"img",3),e(),t(4,"h1",4),o(5,"Witaj w JobHopper"),e(),t(6,"p",5),o(7," Miejscu, w kt\xF3rym \u0142\u0105czymy pracodawc\xF3w z kandydatami. "),e(),t(8,"ul",6)(9,"li",7)(10,"div",8)(11,"mat-icon"),o(12,"edit"),e()(),t(13,"div",9)(14,"div",10),o(15,"Tw\xF3rz tre\u015Bci"),e(),t(16,"div",11),o(17," Tincidunt nunc pulvinar sapien et. Vitae purus faucibus ornare suspendisse sed nisi lacus sed viverra. "),e()()(),t(18,"li",7)(19,"div",8)(20,"mat-icon"),o(21,"shield"),e()(),t(22,"div",9)(23,"div",10),o(24,"Uzupe\u0142nij profil"),e(),t(25,"div",11),o(26," Scelerisque purus semper eget duis at tellus at urna. Sed risus pretium quam vulputate. "),e()()(),t(27,"li",7)(28,"div",8)(29,"mat-icon"),o(30,"work"),e()(),t(31,"div",9)(32,"div",10),o(33,"Przegl\u0105daj oferty pracy"),e(),t(34,"div",11),o(35," Egestas sed tempus urna et. Auctor elit sed vulputate mi sit amet mauris commodo. "),e()()()()(),t(36,"div",12)(37,"h2",13),o(38,"Utw\xF3rz konto biznes"),e(),t(39,"form",14),P("ngSubmit",function(){return a.handleSubmit()}),t(40,"mat-form-field",15)(41,"mat-label"),o(42,"Imi\u0119 i nazwisko"),e(),d(43,"input",16),e(),t(44,"mat-form-field",15)(45,"mat-label"),o(46,"NIP"),e(),d(47,"input",17),e(),t(48,"mat-form-field",15)(49,"mat-label"),o(50,"Firmowy adres e-mail"),e(),d(51,"input",18),p(52,ne,2,1,"mat-error"),e(),t(53,"mat-form-field",15)(54,"mat-label"),o(55,"Firmowy numer telefonu"),e(),d(56,"input",19),e(),t(57,"mat-form-field",15)(58,"mat-label"),o(59,"Has\u0142o"),e(),d(60,"input",20),p(61,ae,2,1,"mat-error"),e(),t(62,"mat-form-field",15)(63,"mat-label"),o(64,"Powt\xF3rz has\u0142o"),e(),d(65,"input",21),p(66,me,2,1,"mat-error"),e(),t(67,"div",22)(68,"mat-checkbox",23),o(69," Akceptuj\u0119 polityk\u0119 prywatno\u015Bci i regulamin aplikacji. "),e(),t(70,"mat-checkbox",24),o(71," Wyra\u017Cam zgod\u0119 na otrzymywanie tre\u015Bci marketingowych. "),e()(),t(72,"button",25),o(73," Utw\xF3rz konto "),e()(),t(74,"p",26),o(75," Posiadasz konto biznes? "),t(76,"a",27),o(77,"Zaloguj si\u0119"),e()()()()),i&2&&(s(39),x("formGroup",a.form),s(13),f(a.emailError()?52:-1),s(9),f(a.passwordError()?61:-1),s(5),f(a.confirmPasswordError()?66:-1),s(6),x("disabled",!a.form.valid||a.uiState().submitting))},dependencies:[Y,G,A,I,T,U,D,q,W,J,L,H,K,Z,X,Q,F,j,B,O],styles:[".promo[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.promo__logo-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:var(--spacing-4xl)}.promo__logo-image[_ngcontent-%COMP%]{height:40px;width:auto}.promo__title[_ngcontent-%COMP%]{margin:0 0 var(--spacing-md);font-size:26px;font-weight:var(--font-weight-semibold);color:var(--color-text-primary)}.promo__subtitle[_ngcontent-%COMP%]{margin:0 0 var(--spacing-4xl);color:var(--color-text-muted);font-size:var(--font-size-md);max-width:360px}.promo__items[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:var(--spacing-xl)}.promo__item[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-xl)}.promo__item-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:var(--radius-md);background-color:var(--color-btn-secondary);display:flex;align-items:center;justify-content:center;color:var(--color-border-default)}.promo__item-text[_ngcontent-%COMP%]{flex:1}.promo__item-title[_ngcontent-%COMP%]{font-size:var(--font-size-base);font-weight:var(--font-weight-medium);margin-bottom:var(--spacing-xs);color:var(--color-text-primary)}.promo__item-description[_ngcontent-%COMP%]{font-size:var(--font-size-md);color:var(--color-text-muted);line-height:var(--line-height-relaxed)}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form__title[_ngcontent-%COMP%]{margin:0 0 var(--spacing-xl);font-size:26px;font-weight:var(--font-weight-semibold);color:var(--color-text-primary)}.form__body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xl)}.form__field[_ngcontent-%COMP%]{width:100%}.form__field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{border-radius:var(--radius-md);background-color:var(--color-bg-primary)}.form__field[_ngcontent-%COMP%]   .mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%], .form__field[_ngcontent-%COMP%]   .mat-mdc-form-field-flex[_ngcontent-%COMP%]{padding-inline:var(--spacing-2xl)}.form__checkbox-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md);margin-top:var(--spacing-md)}.form__submit[_ngcontent-%COMP%]{margin-top:var(--spacing-xl);height:44px;border-radius:var(--radius-md);font-weight:var(--font-weight-medium)}.form__footer[_ngcontent-%COMP%]{margin-top:var(--spacing-xl);margin-bottom:0;font-size:var(--font-size-md);color:var(--color-text-muted);text-align:center}.form__footer-link[_ngcontent-%COMP%]{color:var(--color-btn-secondary);text-decoration:none;font-weight:var(--font-weight-medium)}.form__footer-link[_ngcontent-%COMP%]:hover{color:var(--color-btn-secondary-hover);text-decoration:underline}@media (max-width: 767px){.promo[_ngcontent-%COMP%]{gap:var(--spacing-3xl)}.promo__logo-row[_ngcontent-%COMP%]{margin-bottom:var(--spacing-3xl)}.promo__title[_ngcontent-%COMP%]{font-size:var(--font-size-3xl)}.promo__subtitle[_ngcontent-%COMP%]{margin-bottom:var(--spacing-3xl);max-width:100%}.form[_ngcontent-%COMP%]{padding-top:var(--spacing-xl)}.form__title[_ngcontent-%COMP%]{font-size:var(--font-size-2xl)}}@media (max-width: 420px){.promo__title[_ngcontent-%COMP%]{font-size:var(--font-size-2xl)}.form__title[_ngcontent-%COMP%]{font-size:var(--font-size-xl)}}"],changeDetection:0})};export{ie as BusinessRegistrationPageComponent};
