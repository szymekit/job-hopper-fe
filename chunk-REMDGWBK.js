import{a as X,b as ee,c as te,d as oe}from"./chunk-VEUQTQFU.js";import{a as K,b as Q}from"./chunk-AIFCY5AN.js";import{a as T}from"./chunk-PU44R6CB.js";import{a as $}from"./chunk-F45LC4RS.js";import"./chunk-3RK6DDJD.js";import{a as L,b as H,c as Z,d as J,e as W,f as Y}from"./chunk-3OHHDDBN.js";import{b as I,d,f as B,g as A,k as D,m as U,n as q,p as G,q as V}from"./chunk-2QYDXULY.js";import{a as k}from"./chunk-FT2GGG6N.js";import{j as F,k as R}from"./chunk-PD4IKBLU.js";import{a as O}from"./chunk-LIPKMQYY.js";import"./chunk-G6XE52Q4.js";import{c as z}from"./chunk-WDPLDZXG.js";import{x as j,y as N}from"./chunk-T3VJ5NW5.js";import{$ as m,A as C,Ea as l,Fb as o,Gb as _,Ra as P,S as M,W as E,Yb as v,a as c,ab as u,b as p,cb as f,hb as h,ib as t,jb as e,kb as s,m as y,na as w,qb as S,rb as g}from"./chunk-6R5FC44M.js";var b=class i{formBuilder=m(G);authApi=m($);authService=m(k);realtimeService=m(T);router=m(z);notifications=m(O);form=this.formBuilder.nonNullable.group({email:this.formBuilder.nonNullable.control("",{validators:[d.required,d.email]}),password:this.formBuilder.nonNullable.control("",{validators:[d.required,d.minLength(6)]}),confirmPassword:this.formBuilder.nonNullable.control("",{validators:[d.required]}),acceptTerms:this.formBuilder.nonNullable.control(!1,{validators:[d.requiredTrue]}),acceptMarketing:this.formBuilder.nonNullable.control(!1)});uiState=w({submitting:!1,submitError:null,submitSuccess:!1});submit(){if(!this.form.valid||this.uiState().submitting){this.form.markAllAsTouched();return}let n=this.form.getRawValue();if(n.password!==n.confirmPassword){this.form.get("confirmPassword")?.setErrors({passwordMismatch:!0});return}this.uiState.update(r=>p(c({},r),{submitting:!0,submitError:null})),this.authApi.register({email:n.email,password:n.password,role:"EMPLOYEE",marketingConsent:n.acceptMarketing}).pipe(M(r=>{this.authService.setToken(r.accessToken),this.authService.setUser(r.user),this.realtimeService.connect(),this.uiState.update(a=>p(c({},a),{submitting:!1,submitSuccess:!0,submitError:null})),setTimeout(()=>{this.router.navigate(["/app/dashboard"])},500)}),C(r=>{let a=r.status===409?"U\u017Cytkownik o podanym adresie email ju\u017C istnieje.":"Nie uda\u0142o si\u0119 utworzy\u0107 konta. Spr\xF3buj ponownie.";return this.uiState.update(x=>p(c({},x),{submitting:!1,submitError:a})),y(null)})).subscribe()}static \u0275fac=function(r){return new(r||i)};static \u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"})};function ne(i,n){if(i&1&&(t(0,"mat-error"),o(1),e()),i&2){let r=g();l(),_(r.emailError())}}function ae(i,n){if(i&1&&(t(0,"mat-error"),o(1),e()),i&2){let r=g();l(),_(r.passwordError())}}function me(i,n){if(i&1&&(t(0,"mat-error"),o(1),e()),i&2){let r=g();l(),_(r.confirmPasswordError())}}var re=class i{facade=m(b);form=this.facade.form;uiState=this.facade.uiState;emailError=v(()=>ee(this.form.controls.email));passwordError=v(()=>te(this.form.controls.password));confirmPasswordError=v(()=>oe(this.form.controls.confirmPassword));handleSubmit(){this.facade.submit()}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=P({type:i,selectors:[["jh-employee-registration-page"]],decls:78,vars:5,consts:[["heading","Rejestracja pracownik"],["auth-left","",1,"promo"],[1,"promo__logo-row"],["src","/assets/logo.svg","alt","JobHopper",1,"promo__logo-image"],[1,"promo__title"],[1,"promo__subtitle"],[1,"promo__items"],[1,"promo__item"],[1,"promo__item-icon"],[1,"promo__item-text"],[1,"promo__item-title"],[1,"promo__item-description"],["auth-right","",1,"form"],[1,"form__title"],[1,"form__body",3,"ngSubmit","formGroup"],["appearance","outline","floatLabel","always","hideRequiredMarker","true",1,"form__field"],["matInput","","placeholder","Uzupe\u0142nij","formControlName","email","type","email"],["matInput","","placeholder","Uzupe\u0142nij","formControlName","password","type","password"],["matInput","","placeholder","Uzupe\u0142nij","formControlName","confirmPassword","type","password"],[1,"form__checkbox-group"],["color","primary","formControlName","acceptTerms"],["color","primary","formControlName","acceptMarketing"],["mat-raised-button","","color","primary","type","submit",1,"form__submit",3,"disabled"],[1,"form__separator"],[1,"form__separator-line"],[1,"form__separator-label"],[1,"form__social"],["mat-stroked-button","","type","button",1,"form__social-button","form__social-button--google"],[1,"form__social-label"],["mat-stroked-button","","type","button",1,"form__social-button","form__social-button--facebook"],[1,"form__footer"],["href","#",1,"form__footer-link"]],template:function(r,a){r&1&&(t(0,"jh-auth-page-layout",0)(1,"div",1)(2,"div",2),s(3,"img",3),e(),t(4,"h1",4),o(5,"Witaj w JobHopper"),e(),t(6,"p",5),o(7," Miejscu, w kt\xF3rym \u0142\u0105czymy pracodawc\xF3w z kandydatami. "),e(),t(8,"ul",6)(9,"li",7)(10,"div",8)(11,"mat-icon"),o(12,"edit"),e()(),t(13,"div",9)(14,"div",10),o(15,"Tw\xF3rz tre\u015Bci"),e(),t(16,"div",11),o(17," Tincidunt nunc pulvinar sapien et. Vitae purus faucibus ornare suspendisse sed nisi lacus sed viverra. "),e()()(),t(18,"li",7)(19,"div",8)(20,"mat-icon"),o(21,"person"),e()(),t(22,"div",9)(23,"div",10),o(24,"Uzupe\u0142nij profil"),e(),t(25,"div",11),o(26," Scelerisque purus semper eget duis at tellus at urna. Sed risus pretium quam vulputate. "),e()()(),t(27,"li",7)(28,"div",8)(29,"mat-icon"),o(30,"work"),e()(),t(31,"div",9)(32,"div",10),o(33,"Przegl\u0105daj oferty pracy"),e(),t(34,"div",11),o(35," Egestas sed tempus urna et. Auctor elit sed vulputate mi sit amet mauris commodo. "),e()()()()(),t(36,"div",12)(37,"h2",13),o(38,"Utw\xF3rz konto pracownika"),e(),t(39,"form",14),S("ngSubmit",function(){return a.handleSubmit()}),t(40,"mat-form-field",15)(41,"mat-label"),o(42,"Adres e-mail"),e(),s(43,"input",16),u(44,ne,2,1,"mat-error"),e(),t(45,"mat-form-field",15)(46,"mat-label"),o(47,"Has\u0142o"),e(),s(48,"input",17),u(49,ae,2,1,"mat-error"),e(),t(50,"mat-form-field",15)(51,"mat-label"),o(52,"Powt\xF3rz has\u0142o"),e(),s(53,"input",18),u(54,me,2,1,"mat-error"),e(),t(55,"div",19)(56,"mat-checkbox",20),o(57," Akceptuj\u0119 polityk\u0119 prywatno\u015Bci i regulamin aplikacji. "),e(),t(58,"mat-checkbox",21),o(59," Wyra\u017Cam zgod\u0119 na otrzymywanie tre\u015Bci marketingowych. "),e()(),t(60,"button",22),o(61," Utw\xF3rz konto "),e()(),t(62,"div",23),s(63,"span",24),t(64,"span",25),o(65,"lub"),e(),s(66,"span",24),e(),t(67,"div",26)(68,"button",27)(69,"span",28),o(70,"Zaloguj za pomoc\u0105 Google"),e()(),t(71,"button",29)(72,"span",28),o(73,"Zaloguj za Facebook"),e()()(),t(74,"p",30),o(75," Posiadasz konto? "),t(76,"a",31),o(77,"Zaloguj si\u0119"),e()()()()),r&2&&(l(39),h("formGroup",a.form),l(5),f(a.emailError()?44:-1),l(5),f(a.passwordError()?49:-1),l(5),f(a.confirmPasswordError()?54:-1),l(6),h("disabled",!a.form.valid||a.uiState().submitting))},dependencies:[X,V,D,I,B,A,U,q,J,Z,L,H,Y,W,Q,K,R,F,N,j],styles:[".promo[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.promo__logo-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:var(--spacing-4xl)}.promo__logo-image[_ngcontent-%COMP%]{height:var(--size-icon-box);width:auto}.promo__title[_ngcontent-%COMP%]{margin:0 0 var(--spacing-md);font-size:var(--font-size-hero-subtitle);font-weight:var(--font-weight-semibold);color:var(--color-text-primary)}.promo__subtitle[_ngcontent-%COMP%]{margin:0 0 var(--spacing-4xl);color:var(--color-text-muted);font-size:var(--font-size-md);max-width:320px}.promo__items[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:var(--spacing-xl)}.promo__item[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-xl)}.promo__item-icon[_ngcontent-%COMP%]{width:var(--size-icon-box);height:var(--size-icon-box);border-radius:var(--radius-md);background-color:var(--color-btn-secondary);display:flex;align-items:center;justify-content:center;color:var(--color-border-default)}.promo__item-text[_ngcontent-%COMP%]{flex:1}.promo__item-title[_ngcontent-%COMP%]{font-size:var(--font-size-base);font-weight:var(--font-weight-medium);margin-bottom:var(--spacing-xs);color:var(--color-text-primary)}.promo__item-description[_ngcontent-%COMP%]{font-size:var(--font-size-md);color:var(--color-text-muted);line-height:var(--line-height-relaxed)}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form__title[_ngcontent-%COMP%]{margin:0 0 var(--spacing-xl);font-size:var(--font-size-section-title);font-weight:var(--font-weight-semibold);color:var(--color-text-primary)}.form__body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xl)}.form__field[_ngcontent-%COMP%]{width:100%}.form__field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{border-radius:var(--radius-md);background-color:var(--color-bg-primary)}.form__field[_ngcontent-%COMP%]   .mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%], .form__field[_ngcontent-%COMP%]   .mat-mdc-form-field-flex[_ngcontent-%COMP%]{padding-inline:var(--spacing-2xl)}.form__checkbox-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md);margin-top:var(--spacing-md)}.form__submit[_ngcontent-%COMP%]{margin-top:var(--spacing-xl);height:var(--size-button-height-md);border-radius:var(--radius-md);font-weight:var(--font-weight-medium)}.form__separator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md);margin:var(--spacing-2xl) 0;color:var(--color-text-muted);font-size:var(--font-size-md)}.form__separator-line[_ngcontent-%COMP%]{flex:1;height:var(--border-width-thin);background-color:var(--color-border-subtle)}.form__social[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:var(--spacing-lg);margin-bottom:var(--spacing-xl)}.form__social-button[_ngcontent-%COMP%]{height:var(--size-button-height-sm);justify-content:center;border-radius:var(--radius-md)!important;font-size:var(--font-size-md)}.form__footer[_ngcontent-%COMP%]{margin:0;font-size:var(--font-size-md);color:var(--color-text-muted)}.form__footer-link[_ngcontent-%COMP%]{color:var(--color-btn-secondary);text-decoration:none;font-weight:var(--font-weight-medium);transition:all var(--transition-base)}.form__footer-link[_ngcontent-%COMP%]:hover{color:var(--color-btn-secondary-hover);text-decoration:underline}@media (max-width: 767px){.promo[_ngcontent-%COMP%]{gap:var(--spacing-3xl)}.promo__logo-row[_ngcontent-%COMP%]{margin-bottom:var(--spacing-3xl)}.promo__title[_ngcontent-%COMP%]{font-size:var(--font-size-3xl)}.promo__subtitle[_ngcontent-%COMP%]{margin-bottom:var(--spacing-3xl);max-width:100%}.form__title[_ngcontent-%COMP%]{font-size:var(--font-size-2xl)}.form__social[_ngcontent-%COMP%]{grid-template-columns:minmax(0,1fr)}}@media (max-width: 419px){.promo__title[_ngcontent-%COMP%]{font-size:var(--font-size-2xl)}.promo__item-icon[_ngcontent-%COMP%]{width:32px;height:32px}.form__title[_ngcontent-%COMP%]{font-size:var(--font-size-xl)}}"],changeDetection:0})};export{re as EmployeeRegistrationPageComponent};
