import{a as D}from"./chunk-FT2GGG6N.js";import{a as w}from"./chunk-GDX5ZT5J.js";import{a as E}from"./chunk-LIPKMQYY.js";import{a as O,c as I}from"./chunk-G6XE52Q4.js";import{c as S}from"./chunk-WDPLDZXG.js";import{x as P,y as M}from"./chunk-T3VJ5NW5.js";import{$ as i,A as h,Ea as d,Fb as n,Gb as m,Ra as b,S as f,W as s,ab as u,cb as _,ib as t,jb as a,m as y,na as p,rb as v,sc as x,uc as C}from"./chunk-6R5FC44M.js";var l=class o{http=i(C);baseUrl=O;getCompanySummary(r){let e=new x;return r&&(e=e.set("companyId",r)),this.http.get(`${this.baseUrl}${I.dashboard.getSummary}`,{params:e})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=s({token:o,factory:o.\u0275fac,providedIn:"root"})};var g=class o{dashboardApi=i(l);notifications=i(E);loading=p(!1);error=p(null);summary=p(null);loadSummary(r){this.loading.set(!0),this.error.set(null),this.dashboardApi.getCompanySummary(r).pipe(f(e=>{this.summary.set(e)}),h(e=>{let c=w(e);return this.error.set(c),this.notifications.showError(c,{title:"Nie uda\u0142o si\u0119 za\u0142adowa\u0107 podsumowania dashboardu"}),y(null)})).subscribe(()=>{this.loading.set(!1)})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=s({token:o,factory:o.\u0275fac,providedIn:"root"})};function j(o,r){o&1&&(t(0,"div",3),n(1,"\u0141adowanie..."),a())}function A(o,r){if(o&1&&(t(0,"div",4),n(1),a()),o&2){let e=v();d(),m(e.error())}}function N(o,r){if(o&1&&(t(0,"div",5)(1,"div",6)(2,"div",7)(3,"mat-icon"),n(4,"work"),a()(),t(5,"div",8)(6,"div",9),n(7),a(),t(8,"div",10),n(9,"Wszystkie oferty"),a()()(),t(10,"div",6)(11,"div",7)(12,"mat-icon"),n(13,"check_circle"),a()(),t(14,"div",8)(15,"div",9),n(16),a(),t(17,"div",10),n(18,"Aktywne oferty"),a()()(),t(19,"div",6)(20,"div",7)(21,"mat-icon"),n(22,"description"),a()(),t(23,"div",8)(24,"div",9),n(25),a(),t(26,"div",10),n(27,"Wszystkie aplikacje"),a()()(),t(28,"div",6)(29,"div",7)(30,"mat-icon"),n(31,"hourglass_empty"),a()(),t(32,"div",8)(33,"div",9),n(34),a(),t(35,"div",10),n(36,"Oczekuj\u0105ce"),a()()(),t(37,"div",6)(38,"div",7)(39,"mat-icon"),n(40,"check"),a()(),t(41,"div",8)(42,"div",9),n(43),a(),t(44,"div",10),n(45,"Zaakceptowane"),a()()(),t(46,"div",6)(47,"div",7)(48,"mat-icon"),n(49,"close"),a()(),t(50,"div",8)(51,"div",9),n(52),a(),t(53,"div",10),n(54,"Odrzucone"),a()()()()),o&2){let e=v();d(7),m(e.summary().totalOffers),d(9),m(e.summary().activeOffers),d(9),m(e.summary().totalApplications),d(9),m(e.summary().pendingApplications),d(9),m(e.summary().acceptedApplications),d(9),m(e.summary().rejectedApplications)}}var z=class o{facade=i(g);authService=i(D);router=i(S);loading=this.facade.loading;error=this.facade.error;summary=this.facade.summary;ngOnInit(){let r=this.authService.currentUser();if(!r||r.role!=="RECRUITER"){this.router.navigate(["/app/dashboard"],{replaceUrl:!0});return}let e=r.id;this.facade.loadSummary(e)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=b({type:o,selectors:[["jh-company-dashboard-page"]],decls:7,vars:1,consts:[[1,"company-dashboard-page"],[1,"company-dashboard-page__header"],[1,"company-dashboard-page__title"],[1,"company-dashboard-page__loading"],[1,"company-dashboard-page__error"],[1,"company-dashboard-page__grid"],[1,"company-dashboard-page__card"],[1,"company-dashboard-page__card-icon"],[1,"company-dashboard-page__card-content"],[1,"company-dashboard-page__card-value"],[1,"company-dashboard-page__card-label"]],template:function(e,c){e&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"Dashboard firmy"),a()(),u(4,j,2,0,"div",3)(5,A,2,1,"div",4)(6,N,55,6,"div",5),a()),e&2&&(d(4),_(c.loading()?4:c.error()?5:c.summary()?6:-1))},dependencies:[M,P],styles:[".company-dashboard-page[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--color-bg-secondary);padding:var(--spacing-4xl)}.company-dashboard-page__header[_ngcontent-%COMP%]{margin-bottom:var(--spacing-4xl)}.company-dashboard-page__title[_ngcontent-%COMP%]{font-size:var(--font-size-5xl);font-weight:var(--font-weight-bold);color:var(--color-text-primary);margin:0}.company-dashboard-page__grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--spacing-3xl)}.company-dashboard-page__card[_ngcontent-%COMP%]{background-color:var(--color-bg-primary);border-radius:var(--radius-md);box-shadow:var(--shadow-sm);display:flex;align-items:center;gap:var(--spacing-xl);padding:var(--spacing-3xl)}.company-dashboard-page__card-icon[_ngcontent-%COMP%]{width:var(--size-avatar-lg);height:var(--size-avatar-lg);border-radius:var(--radius-md);background-color:var(--color-btn-secondary);color:var(--color-text-inverse);display:flex;align-items:center;justify-content:center}.company-dashboard-page__card-content[_ngcontent-%COMP%]{flex:1}.company-dashboard-page__card-value[_ngcontent-%COMP%]{font-size:var(--font-size-4xl);font-weight:var(--font-weight-bold);color:var(--color-text-primary);line-height:var(--line-height-tight);margin-bottom:var(--spacing-xs)}.company-dashboard-page__card-label[_ngcontent-%COMP%]{font-size:var(--font-size-base);color:var(--color-text-secondary)}.company-dashboard-page__loading[_ngcontent-%COMP%], .company-dashboard-page__error[_ngcontent-%COMP%]{text-align:center;padding:var(--spacing-8xl);color:var(--color-text-secondary)}@media (max-width: 767px){.company-dashboard-page[_ngcontent-%COMP%]{padding:var(--spacing-3xl)}.company-dashboard-page__grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--spacing-2xl)}}@media (max-width: 419px){.company-dashboard-page[_ngcontent-%COMP%]{padding:var(--spacing-2xl)}.company-dashboard-page__grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"],changeDetection:0})};export{z as CompanyDashboardPageComponent};
